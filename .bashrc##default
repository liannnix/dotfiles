# ~/.bashrc
# The individual per-interactive-shell startup file.

# Source global definitions.
if [ -r /etc/bashrc ]; then
	. /etc/bashrc
fi

## ENV list
EDITOR=nvim

# Define user specific aliases and functions.
######## PS1
function lline() {
    local len=
    if test $1 -lt 10; then
        len=4
    elif test $1 -lt 100; then
        len=5
    else
        len=6
    fi
    printf '%.sâ”€' $(seq $len $(tput cols))
}

function lcurbranch() {
    git branch --show-current 2>/dev/null
}
#PS1="[\$?]\$(lline \$?)\n[\d \A][\u@\h][\w](\$(lcurbranch))\n\W \$ "
########

home_dir="$HOME"

## SSH Agent
export SSH_AUTH_SOCK="$home_dir/.ssh/agent"
ssh-agent -u >/dev/null

# Added by Radicle.
export PATH="$PATH:$home_dir/.radicle/bin"

# Set tmux title for ssh
. "$home_dir/.scripts/set-tmux-title.sh" >/dev/null 2>&1 || true

# SYnc bash history between terminals
export PROMPT_COMMAND="history -a; history -n"

. "$home_dir/.scripts/common_functions.sh" >/dev/null 2>&1 &&
    export PROMPT_COMMAND="$PROMPT_COMMAND; (generate_tmux_local_pane_name &)"
